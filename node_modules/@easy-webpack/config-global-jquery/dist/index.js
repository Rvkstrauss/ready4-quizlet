"use strict";
var core_1 = require('@easy-webpack/core');
var webpack = require('webpack');
module.exports = function jQuery(_a) {
    var _b = (_a === void 0 ? {} : _a).expose, expose = _b === void 0 ? true : _b;
    return function jQuery() {
        var config = {
            plugins: [
                new webpack.ProvidePlugin({
                    '$': 'jquery',
                    'jQuery': 'jquery',
                    'window.jQuery': 'jquery' // this doesn't expose jQuery property for window, but exposes it to every module
                })
            ].concat(core_1.get(this, 'plugins', []))
        };
        if (expose) {
            config.module = {
                rules: core_1.get(this, 'module.rules', []).concat([
                    { test: require.resolve('jquery'), loader: 'expose-loader?$!expose-loader?jQuery' }
                ])
            };
        }
        return config;
    };
};
//# sourceMappingURL=index.js.map